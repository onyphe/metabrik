#!/usr/bin/perl
#
# $Id$
#
use strict;
use warnings;

BEGIN {
   use File::HomeDir;

   my $lib = File::HomeDir->my_home."/MetaBricky/lib";
   $lib =~ s/\\/\//g; # Converts Windows path

   eval("use lib \"$lib\";");
   if ($@) {
      chomp($@);
      die("[-] FATAL: meby: unable to load MetaBricky libs [$@]\n");
   }
}

use MetaBricky::Shell;
use MetaBricky::Log::Console;

my $script = shift;

$MetaBricky::Shell::Log = MetaBricky::Log::Console->new(
   level => 3,
);
my $shell = MetaBricky::Shell->new;

if (defined($script)) {
   $shell->cmd("script $script");
}
else {
   $shell->cmdloop;
}
